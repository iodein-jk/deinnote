{"version":3,"sources":["webpack:///./src/components/blog-related.js","webpack:///./src/templates/blog-post.js"],"names":["RelatedPosts","tags","title","relatedPosts","useStaticQuery","allMarkdownRemark","edges","filter","edge","node","frontmatter","i","length","indexOf","slice","className","map","row","index","key","to","slug","fluid","thumnail","childImageSharp","imgStyle","objectFit","objectPosition","pageQuery","BlogPostTemplate","data","location","pageContext","post","markdownRemark","siteTitle","site","siteMetadata","previous","next","tagItems","tag","class","kebabCase","siteUrl","description","excerpt","itemScope","itemType","itemProp","date","url","dangerouslySetInnerHTML","__html","html","rel"],"mappings":"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","file":"component---src-templates-blog-post-js-f15a4989d325d5c10513.js","sourcesContent":["import React from \"react\";\nimport { useStaticQuery, graphql, Link } from \"gatsby\";\nimport Image from \"gatsby-image\";\n\nexport const RelatedPosts = ({ tags, title }) => {\n  // 全記事のデータを取得\n  const data = useStaticQuery(graphql`\n    query blogRelatedPostsQuery {\n      allMarkdownRemark(\n          filter: { frontmatter: { category: { in: [\"blog\"] } } }\n      ) {\n        edges {\n          node {\n            id\n            fields {\n              slug\n            }\n            frontmatter {\n              title\n              tags\n              slug\n              thumnail {\n                childImageSharp {\n                  fluid(maxWidth: 338) {\n                    ...GatsbyImageSharpFluid\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `);\n\n  // 条件に一致する関連記事のみを絞り込む\n    const relatedPosts = data.allMarkdownRemark.edges.filter(edge => {\n        if (edge.node.frontmatter.title === title) {\n        return false;\n    }\n    for (let i = 0; i < tags.length; i++) {\n        if (edge.node.frontmatter.tags.indexOf(tags[i]) >= 0) {\n            return true;\n        }\n    }\n        return false;\n    });\n\n    // 関連記事があれば表示する\n    if (!relatedPosts.length) {\n        return null;\n    }\n\n    const relatedPost4 = relatedPosts.slice(0, 6);\n\n  return (\n    <div className=\"mt-80\">\n        <p className=\"mt-60\">関連記事</p>\n        <ul className=\"blog-post-nav d-flex flex-wrap\">\n        {relatedPosts.map((row, index) => (\n            <li className=\"col-md-4 col-6 pl-10 pr-10\" key={index}>\n                <Link to={`/${row.node.frontmatter.slug}`}>\n                    <Image fluid={row.node.frontmatter.thumnail.childImageSharp.fluid} imgStyle={{objectFit: \"cover\",objectPosition:\"50% 50%\"}}/>\n                    <span>{row.node.frontmatter.title}</span>\n                </Link>\n            </li>\n        ))}\n    </ul>\n  </div>\n  );\n};\n\nexport default RelatedPosts\n","import React from \"react\"\nimport {Link, graphql} from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Share from \"../components/share\";\nimport RelatedPosts from \"../components/blog-related\";\n\nimport Image from \"gatsby-image\";\nimport kebabCase from \"lodash/kebabCase\"\n\nconst BlogPostTemplate = ({data, pageContext, location}) => {\n    const post = data.markdownRemark\n    const siteTitle = data.site.siteMetadata\n        ?.title || `Title`\n    const {previous, next} = data\n    const tags = post.frontmatter.tags\n    const tagItems = tags.map((tag) => <li class=\"col\">\n        <Link to={`/tags/${kebabCase(tag)}/`}>{tag}</Link>\n    </li>)\n    const siteUrl = data.site.siteMetadata.siteUrl;\n    const slug    = post.frontmatter.slug;\n\n    return (<Layout location={location} title={siteTitle}>\n        <SEO title={post.frontmatter.title} description={post.frontmatter.description || post.excerpt}/>\n        <article className=\"blog-post container-2\" itemScope=\"itemScope\" itemType=\"http://schema.org/Article\">\n            <header className=\"text-center\">\n                <h1 itemProp=\"headline\">{post.frontmatter.title}</h1>\n                <p className=\"datetime\">{post.frontmatter.date}</p>\n                <ul class=\"tag-group d-flex flex-wrap justify-content-center\">\n                    {tagItems}\n                </ul>\n                <Share title={post.frontmatter.title} url={`${siteUrl}/${slug}`} description={post.excerpt} />\n                <figure>\n                    <div className=\"posts__image\">\n                        <Image className=\"\" fluid={post.frontmatter.thumnail.childImageSharp.fluid}/>\n                    </div>\n                </figure>\n            </header>\n            <section className=\"articleBody\" dangerouslySetInnerHTML={{\n                    __html: post.html\n                }} itemProp=\"articleBody\"/>\n        </article>\n        <nav className=\"blog-post-nav container-2 mt-80\">\n            <RelatedPosts tags={post.frontmatter.tags} title={post.frontmatter.title}></RelatedPosts>\n            <p className=\"mt-60\">直近の記事</p>\n            <ul className=\"d-flex\">\n                <li className=\"col-6 pl-10 pr-10\">\n                    {\n                        previous && (<Link to={`/${previous.frontmatter.slug}`} rel=\"prev\">\n                            <Image fluid={previous.frontmatter.thumnail.childImageSharp.fluid} imgStyle={{objectFit: \"cover\",objectPosition:\"50% 50%\"}}/>\n                            <span>{previous.frontmatter.title}</span>\n                        </Link>)\n                    }\n                </li>\n                <li className=\"col-6 pl-10 pr-10\">\n                    {\n                        next && (<Link to={`/${next.frontmatter.slug}`} rel=\"next\">\n                            <Image fluid={next.frontmatter.thumnail.childImageSharp.fluid} imgStyle={{objectFit: \"cover\",objectPosition:\"50% 50%\"}}/>\n                            <span>{next.frontmatter.title}</span>\n                        </Link>)\n                    }\n                </li>\n            </ul>\n        </nav>\n    </Layout>)\n}\n\nexport default BlogPostTemplate\n\nexport const pageQuery = graphql `\n  query BlogPostBySlug(\n    $id: String!\n    $previousPostId: String\n    $nextPostId: String\n  ) {\n    site {\n      siteMetadata {\n        title\n        siteUrl\n      }\n    }\n    markdownRemark(id: { eq: $id }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n        date(formatString: \"YYYY年MM月DD日\")\n        description\n        slug\n        tags\n        thumnail {\n          childImageSharp {\n            fluid(maxWidth: 1280) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n        }\n      }\n    }\n    previous: markdownRemark(id: { eq: $previousPostId }) {\n        fields {\n          slug\n        }\n      frontmatter {\n        title\n        slug\n        thumnail {\n          childImageSharp {\n            fluid(maxWidth: 320) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n        }\n      }\n    }\n    next: markdownRemark(id: { eq: $nextPostId }) {\n        fields {\n          slug\n        }\n      frontmatter {\n        title\n        slug\n        thumnail {\n          childImageSharp {\n            fluid(maxWidth: 320) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}